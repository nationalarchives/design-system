@use "@nationalarchives/frontend/nationalarchives/variables/assets" with (
  $tna-font-path: "/design-system/static/assets/fonts"
);
@use "@nationalarchives/frontend/nationalarchives/variables/grid" with (
  $largest-container-width: 90rem
);
@use "@nationalarchives/frontend/nationalarchives/all";

@use "@nationalarchives/frontend/nationalarchives/tools/colour";
@use "@nationalarchives/frontend/nationalarchives/tools/media";
@use "@nationalarchives/frontend/nationalarchives/tools/spacing";
@use "@nationalarchives/frontend/nationalarchives/tools/typography";

.tna-breadcrumbs {
  &__link {
    &::first-letter {
      text-transform: capitalize;
    }
  }
}

.tna-card--demo {
  max-width: 25rem;
}

.tna-card--demo-horizontal {
  max-width: 50rem;
}

.tna-template--yellow-accent {
  .tna-hero--tint .tna-hero__figure::before {
    background-color: rgb(0, 76, 126) !important;
  }
  .tna-ol li::marker {
    @include colour.colour-font("font-base");
  }
}

.tna-ds {
  &-sidebar {
    // max-height: 100vh;
    margin: 0;
    padding: 0;

    position: sticky;
    top: 1rem;
    // overflow: auto;

    list-style: none;

    &__item {
      position: relative;

      & + & {
        margin-top: 0.25rem;
      }

      &--current {
        padding-left: 1.25rem;

        @include typography.main-font-weight-bold;

        &::before {
          width: 0.375rem;

          display: block;

          position: absolute;
          top: 0;
          bottom: 0;
          left: 0;

          @include colour.accent;

          content: "";
        }
      }
    }

    &__link {
    }

    &__sections {
      padding-left: 1.25rem;

      @include typography.relative-font-size(16);
      @include typography.main-font-weight;
      list-style: disc;
    }

    &__section {
      &__link {
      }
    }
  }

  &-component-example {
    @include spacing.space-above;

    @include colour.colour-border("keyline", 1px);

    &__open-new-tab {
      display: block;

      @include colour.colour-border("keyline", 1px, solid, bottom);
    }

    &__link {
      margin: 0.5rem 1rem;

      display: inline-block;
    }

    &__frame-wrapper {
      padding: 1.5rem;

      background-color: #f4f4f4;

      @include media.on-mobile() {
        padding: 1rem;
      }

      &--no-padding {
        padding: 0;
      }
    }

    &__frame {
      width: 100%;
      height: 20rem;
      margin: 0 auto;

      display: block;

      border: none;

      &--resizeable {
        overflow: auto;
      }

      &--mobile {
        max-width: 768px;
      }

      &--xxs {
        height: 4rem;
      }

      &--xs {
        height: 6rem;
      }

      &--s {
        height: 10rem;
      }

      &--m {
        height: 18rem;
      }

      &--l {
        height: 25rem;
      }

      &--xl {
        height: 30rem;
      }

      &--xxl {
        height: 36rem;
      }
    }

    &__data {
      padding: 1rem 0 0;

      @include colour.colour-border("keyline", 1px, solid, top);

      .tna-tabs__list {
        padding-right: 1rem;
        padding-left: 1rem;
      }

      &-table-wrapper {
        padding: 1rem;
      }
    }

    &__code {
      position: relative;

      pre {
        margin: 0;
        padding-top: 3rem;

        border-radius: 0;
      }

      :not(pre) > code[class*="language-"],
      pre[class*="language-"] {
        margin: 0;

        // background-color: $code-background;

        .language-css .token.string,
        .style .token.string,
        .token.entity,
        .token.operator,
        .token.url {
          background-color: transparent;
        }

        &.padded {
          padding-top: 3.5rem;
        }
      }

      &-copy {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        z-index: 1;
      }
    }

    & > &__code {
      @include colour.colour-border("keyline", 1px, solid, top);
    }
  }
}

.tna-ds-pre {
  margin-top: 2rem !important;
  margin-bottom: 0;
  padding: 1rem;

  // background-color: #f1ece9;

  @include colour.colour-border("keyline", 1px);
}

p,
li,
table {
  code {
    color: #905;

    background-color: #f1ece9;

    .tna-template--dark-theme & {
      color: #d49;

      background-color: #111;
    }
  }
}

.tna-template__body {
  // min-height: -webkit-fill-available !important;

  > .tna-header + .tna-container {
    flex: 1;
  }
}

.tna-button {
  &--large {
    @include typography.relative-font-size(22);
  }
}

.app-example-page {
  min-height: auto;
  padding: 2rem;
}

.tna-header {
  .tna-header__top-navigation-item-link {
    .fa-solid,
    .fa-brands {
      width: 1.25em;

      text-align: left;
    }
  }

  button.tna-header__top-navigation-item-link {
    padding: 0;

    display: flex;

    font-size: 1rem;
    line-height: 1rem;
    text-align: left;

    background: none;

    border: none;

    cursor: pointer;

    &--dark {
      .tna-template--dark-theme & {
        display: none;
      }
    }

    &--light {
      .tna-template--light-theme & {
        display: none;
      }
    }
  }

  @include media.on-medium() {
    position: relative;

    &__top-navigation-items {
      position: absolute;
      top: 0;
      right: grid.$gutter-width;
    }
  }

  @include media.on-mobile() {
    &__top-navigation-items {
      display: block;
    }
  }
}

.tna-grid--demo {
  padding-top: 2rem;

  background-color: #eee;

  @include media.on-mobile() {
    padding-top: 1rem;
  }

  .tna-column {
    margin-bottom: 2rem;

    position: relative;

    text-align: center;
    line-height: 3rem;

    @include colour.accent;
    background-clip: content-box;

    @include media.on-mobile() {
      margin-bottom: 1rem;
    }
  }
}

.tna-hero {
  &--tint {
    @include colour.colour-border("keyline", 1px, solid, bottom);
  }
}

.tna-heading-s,
.tna-heading-m,
.tna-heading-l,
.tna-heading-xl {
  a[href^="#"]:not([href="#"]) {
    width: 1.5rem;

    display: none;

    @include typography.relative-font-size(16);
    vertical-align: middle;
    line-height: 1.5rem;
    text-align: center;

    &,
    &:link,
    &:visited,
    &:active {
      @include colour.colour-font("link");
    }

    &::after {
      display: none;
    }
  }

  &:hover {
    a[href^="#"]:not([href="#"]) {
      display: inline-block;
    }
  }
}

.tna-table {
  width: 100%;
  margin-top: 2rem;

  border-collapse: collapse;

  text-align: left;

  &:first-child {
    margin-top: 0;
  }

  &__caption {
    text-align: left;

    @include typography.main-font-weight-bold;
  }

  &__head {
  }

  &__head &__header {
    @include colour.colour-border("keyline-dark", 0.25rem, solid, bottom);
  }

  &__body {
  }

  &__row {
  }

  &__header,
  &__cell {
    padding: 0.25rem 1rem;

    @include colour.colour-border("keyline", 1px, solid, bottom);

    &:first-child {
      padding-left: 0;
    }

    &:last-child {
      padding-right: 0;
    }
  }

  &__header {
  }

  &__cell {
  }

  p {
    + p {
      margin-top: 0.5rem;
    }
  }
}

.tna-ds-colour-swatch {
  width: 2rem;
  height: 2rem;
  margin-right: 0.75rem;

  display: inline-block;

  vertical-align: bottom;

  // border-radius: .25rem;

  @include colour.colour-border("keyline-dark", 1px, solid);

  // box-shadow: 0.0625rem 0.125rem 0.375rem rgb(0 0 0/0.25);
}

p:has(+ p.tna-\!--no-margin-top) {
  &,
  & ~ p {
    @include colour.colour-background("background-tint");
  }
}

@mixin hide($suffix) {
  .tna-\!--hide-on-#{$suffix} {
    display: none;
  }
}

@include media.on-large {
  @include hide("large");
}

@include media.on-medium {
  @include hide("medium");
}

@include media.on-small {
  @include hide("small");
}

@include media.on-tiny {
  @include hide("tiny");
}
